# CGI 服务基本原理

**CGI** : Common Gateway Interface

可以让一个客户端，从网页浏览器向执行在网络服务器上的程序请求数据。CGI描述了服务器和请求处理程序之间传输数据的一种标准。[通用网关接口](https://zh.wikipedia.org/wiki/%E9%80%9A%E7%94%A8%E7%BD%91%E5%85%B3%E6%8E%A5%E5%8F%A3)

代码中，先关掉标准输出的文件描述符`STDOUT_FILENO`（其值为1），然后复制socket的文件描述符`connfd`。
因为`dup`系统调用总是返回系统中最小的可用文件描述符，所以它实际返回是1，即之前关闭的标准输出。
这样一来，服务器输出到标准输出的内容就会直接发送到与客户端连接的socket上。
这就是CGI服务的基本原理